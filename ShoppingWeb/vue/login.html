<!--
 * @Description: 
 * @Author: lyq
 * @Date: 2024-01-05 10:07:02
 * @LastEditTime: 2024-01-07 09:17:51
 * @LastEditors: lyq
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>老头乐商城登录界面</title>
    <link rel="stylesheet" href="./css/login.css" />
    <script src="./js/login.js"></script>
    <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/axios@1.1.2/dist/axios.min.js"></script>
  </head>
  
  <body>
    <div class="top">
      <div class="top_name">
        <a href="#" title="老头乐商城" class="logo color">老头乐商城</a>
        <p class="color">LaoTouLe shopping mall</p>
      </div>
      <div class="welcome">欢迎登录</div>
    </div>
    <div class="content" id="app">
      <div class="content_login">
        <div class="login-form">
          <p class="login-type">
            <span class="active">账号登陆</span>
            <!-- <span style="color:#e0e0e0">|</span>
            <span class="saoma">扫码登录</span> -->
        </p>
          <form method="post"  onsubmit="return false">  
            <input type="text"  v-model="user.username" id="name" maxlength="12" minlength="3" value="" placeholder="用户名" ></input>  
            <input type="password"  v-model="user.password" id="password"  maxlength="12" minlength="3"   placeholder="密码" value=""  ></input>  
            <button class="but" type="button"  id="btn_login" @click="login">登录</button>  
            <p>未注册，点击<a href="./register.html">注册</a></p>
            </form>  
            <div class="login-footer">
              <p class="login-other-title">——————————其他方式登录—————————</p>
              <div class="all-icons">
                  <a href="#"><span class="qq"></span></a>
                  <a href="#"><span class="weibo"></span></a>
                  <a href="#"><span class="zhifubao"></span></a>
                  <a href="#"><span class="weixin"></span></a>
              </div>
          </div>
        </div>
      </div>
    </div>
    <footer class="footer">
      <p class="language">
        <span>简体</span>
        <span style="color:#e0e0e0">&nbsp;&nbsp;|&nbsp;&nbsp;</span>
        <span>繁体</span>
        <span style="color:#e0e0e0">&nbsp;&nbsp;|&nbsp;&nbsp;</span>
        <span>English</span>
        <span style="color:#e0e0e0">&nbsp;&nbsp;|&nbsp;&nbsp;</span>
        <span>常见问题</span>
    </p>
    <p class="copyright">

    </p>
    </footer>

    <script>
      var vm=new Vue({
          el:'#app',
          data:{
            title:"测试",
            user:{
              username:'',
              password:''
            }
          },
          methods:{
            login(){
            
              axios.post('http://localhost:8000/apilogin/',this.user).then(res=>{
             console.log(res.data);
             if(res.data.code==200)
             {
               console.log(this.user,"登录用户")
              localStorage.setItem('user',JSON.stringify(this.user));
              alert("登录成功")
              location.href="index.html";
             }else
             {
              alert("用户名或密码错误")
             }
            
             
           })
           

          
          }
        }
      });
  </script>


  </body>
</html>
